<!DOCTYPE html>
<!-- browser key - AIzaSyBhdAk0Ki3azlEwLYPnBIDFyGWoFxH4Zb0 -->
<!-- server key - AIzaSyB_t3_wvQ1AxaFSDjZMifE7kVaPIvHEhSA -->
<html class="home" lang="en">
    <head>
        <title>Query the social web</title>
        <link rel='stylesheet' type="text/css" href='/stylesheets/style.css' />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
        <!--<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB_t3_wvQ1AxaFSDjZMifE7kVaPIvHEhSA"></script>-->
        <script src="/javascripts/javascripts.js" type = "text/javascript"></script>
        <script>
            var tweets = <%= tweets %>;
            var coord = <%= JSON.stringify(geo) %>;
            var words = <%= JSON.stringify(commonWords) %>;
            var users = <%= activeUsers %>;
            var users_com = <%= usersCommon %>;

            for (var t in tweets) {
                var row = $('<row></row>')
                row.append('<th style="border:1px solid black">' + t + '</th><td style="border:1px solid black">' + tweets[t][0] + '</td>')
                $(".tweetTable").append(row)
            }
            for (var i in words) {
                var row = $('<row></row>')
                row.append('<th style="border:1px solid black">' + words[i][0] + '</th><td style="border:1px solid black">' + words[i][1] + '</td>')
                $("#commonTable").append(row)
            }
            for (var j in users) {
                var row = $('<row></row>')
                row.append('<th style="border:1px solid black">' + users[j][0] + '</th><td style="border:1px solid black">' + users[j][1] + '</td>')
                $("#userTable").append(row)
            }
            for (var s in users_com) {
                var row = $('<row></row>')
                row.append('<th style="border:1px solid black">' + users_com[s][0] + '</th><td style="border:1px solid black">' + users_com[s][1] + '</td>')
                $("#ucommonTable").append(row)
            }
            
        </script>
    </head>
    <body onLoad="doSlideshow(); window.scroll(0, 1000);">
      <form class="logout" name="logout" action="http://localhost:8081/logout" style="position:fixed;right:10px;top:5px;">
          <input type="submit" value="Log Out">
      </form>
        <div class="wrapper">
            <div class="left-wrapper">
                <ul id="toggle-view">
                    <li>
                        <h2>First time using these forms?</h2>
                        <span>+</span>
                        <div class="panel">
                            <p>Twitter Form<br>Twitter profile: This field is for specifying the twitter profile that you want to return tweets for. For example, 'MCFC' will return tweets from the offical Manchester city twitter account.<br>Key Words: This field is for specifying a key word you want the tweets returned to contain. For example, 'ref' will return all tweets that contain the word ref.<br>Count: This field is for specifying how many tweets you wish to return, note that the maximum is 300.<br>Date: This field is for specifying the date from which to get tweets from. For example, '2015-11-11' will only return tweets after the 11th of novemeber 2015.<br>Distance: This field is for specifying the distance from point in which to eturn tweets. For example, 100km will return tweets from a 100km radius of location, note that if you have entered a premier league teams twitter profile this point is set to the teams stadium.<br>Geo-location: This field is for specifying the longitude and latitude of your search of tweets, this field sets the centeral location of the radius set in the Distance field<br> Map: The map on the right hand side of the screen will display all the tweets that returned a location as a marker on the map. The map also displays the location of all the Premier League teams stadiums.<br>Tweets: The section below the map will fill with all the relevant tweet information, based on your queries, when the form is completed and the "Get Tweets" button is pressed.<br>Extra Information: Below this form is a section that will show you the most common word in the collection of tweets returned, as well as the most active twitter users and their most commonly used words.<br>SPARQL Form: This form allows you to enter a home and away team and then returns the following: A brief description about the club, the home ground and its capacity, a list of both teams managers and players with their nationality, birthdate and position.</p>
                        </div>
                    </li>
                </ul>
                <div class="title">
                    <h2><span>Now you can use the form below to query the social web. This form works best with teams in the premier league, but feel free to set the criteria to whatever you wish. All fields marked with an * are required fields.</span></h2>
                </div>
                    <form name="query" id="query" method="POST" class="form" accept-charset="utf-8"> 
                        <h1>Twitter Form</h1>
                        <label>
                            <span>Twitter Profile:</span>
                            <input id="profile" name="profile" type="text" list="suggestions" placeholder="Example: MCFC" />
                            <datalist id="suggestions">
                                <option value="Arsenal">
                                <option value="AVFCOfficial">
                                <option value="afcbournemouth">
                                <option value="ChelseaFC">
                                <option value="CPFC">
                                <option value="Everton">
                                <option value="LCFC">
                                <option value="LFC">
                                <option value="MCFC">
                                <option value="ManUtd">
                                <option value="NUFC">
                                <option value="NorwichCityFC">
                                <option value="SouthamptonFC">
                                <option value="stokecity">
                                <option value="SunderlandAFC">
                                <option value="SwansOfficial">
                                <option value="SpursOfficial">
                                <option value="WBAFCofficial">
                                <option value="whufc_official">
                                <option value="WatfordFC">
                            </datalist>
                        </label>

                        <label>
                            <span>Key words:</span>
                            <input id="keywords" name="keywords" type="text" placeholder="Example: Man Utd" />
                        </label>

                        <label>
                            <span>HashTags:</span>
                            <input id="hashtags" name="hashtags" type="text" placeholder="Example: #premierleague" />
                        </label>

                        <label>
                            <span>User Mentions:</span>
                            <input id="usermentions" name="usermentions" type="text" placeholder="Example: @ManUtd" />
                        </label>
                        
                        <label>
                            <span>Count:</span>
                            <input id="count" name="count" type="number" placeholder="Example: 100" min="1" max="500"/>
                        </label> 

                        <label>
                            <span>Search from database only:
                                <input id="dbonly" name="dbonly" type="checkbox" />
                            </span>
                        </label>
                        
                        <section class="twitterform">
                          <label>
                              <span>&nbsp;</span> 
                              <input type="submit" value="Get Tweets"/> 
                          </label>    
                        </section>
                    </form>
                <div id='myform_errorloc' class='error_strings'></div>
                <div id="result"></div>
            </div>
            <div class="right-wrapper">
                <form name="sparqlquery" id="query" method="POST" action="/sparql" class="form" accept-charset="utf-8"> 
                  <h1>SPARQL Form</h1>
                    <label> 
                      <span>Date:</span>
                        <input name="sdate" type="date" placeholder="Example: 2011-11-11" required>
                    </label>
                    <label>
                      <span>Home Team:</span>
                        <input type="text" name="hTeam" placeholder="Example: Manchester_City_F.C." list="hsuggestions" required>
                        <datalist id="hsuggestions">
                            <option value="Arsenal_F.C.">
                            <option value="Aston_Villa_F.C.">
                            <option value="A.F.C._Bournemouth">
                            <option value="Chelsea_F.C.">
                            <option value="Crystal_Palace_F.C.">
                            <option value="Everton_F.C.">
                            <option value="Leicester_City_F.C.">
                            <option value="Liverpool_F.C.">
                            <option value="Manchester_City_F.C.">
                            <option value="Manchester_United_F.C.">
                            <option value="Newcastle_United_F.C.">
                            <option value="Norwich_City_F.C.">
                            <option value="Southampton_F.C.">
                            <option value="Stoke_City_F.C.">
                            <option value="Sunderland_A.F.C.">
                            <option value="Swansea_City_A.F.C.">
                            <option value="Tottenham_Hotspur_F.C.">
                            <option value="West_Bromwich_Albion_F.C.">
                            <option value="West_Ham_United_F.C.">
                            <option value="Watford_F.C.">
                        </datalist>
                      </label>
                      <label>
                        <span>Away Team:</span>
                            <input type="text" name="aTeam" placeholder="Example: Manchester_United_F.C." list="asuggestions" required>
                            <datalist id="asuggestions">
                                <option value="Arsenal_F.C.">
                                <option value="Aston_Villa_F.C.">
                                <option value="A.F.C._Bournemouth">
                                <option value="Chelsea_F.C.">
                                <option value="Crystal_Palace_F.C.">
                                <option value="Everton_F.C.">
                                <option value="Leicester_City_F.C.">
                                <option value="LLiverpool_F.C.">
                                <option value="Manchester_City_F.C.">
                                <option value="Manchester_United_F.C.">
                                <option value="Newcastle_United_F.C.">
                                <option value="Norwich_City_F.C.">
                                <option value="Southampton_F.C.">
                                <option value="Stoke_City_F.C.">
                                <option value="Sunderland_A.F.C.">
                                <option value="Swansea_City_A.F.C.">
                                <option value="Tottenham_Hotspur_F.C.">
                                <option value="West_Bromwich_Albion_F.C.">
                                <option value="West_Ham_United_F.C.">
                                <option value="Watford_F.C.">
                            </datalist>
                      </label>
                        <section class="twitterform">
                          <label>
                              <span>&nbsp;</span> 
                              <input type="submit" value="Enter"/> 
                          </label>    
                        </section>
                </form>
            </div>
            <div class="map-wrapper">
                <div id="map-canvas" style="width: 100%; height: 332px;"></div>
            </div>
            <div class="bottom">
                <h2>Tweets:</h2>
                <table id="tweetTable" class="tweetTable" style="border:1px solid black"></table>
                <div style="clear: both;"></div>
            </div>
            <div class="bottom2">
                <h2>Most common words in the collection and most active users:</h2>
                <table id="userTable" style="border:1px solid black"></table>
                <table id="commonTable" style="border:1px solid black"></table>
                <table id="ucommonTable" style="border:1px solid black"></table>
                <div style="clear: both;"></div>
            </div>
        </div>
    </body>
</html>